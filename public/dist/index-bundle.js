!function(e){var t={};function r(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var i=function(e){if(!e)throw new Error("No builder supplied to constructor");this.host=e.host,this.port=e.port,this.scheme=e.scheme,this.queryParameters=e.queryParameters,this.bodyParameters=e.bodyParameters,this.headers=e.headers,this.path=e.path};i.prototype._getter=function(e){return function(){return this[e]}},i.prototype.getHost=i.prototype._getter("host"),i.prototype.getPort=i.prototype._getter("port"),i.prototype.getScheme=i.prototype._getter("scheme"),i.prototype.getPath=i.prototype._getter("path"),i.prototype.getQueryParameters=i.prototype._getter("queryParameters"),i.prototype.getBodyParameters=i.prototype._getter("bodyParameters"),i.prototype.getHeaders=i.prototype._getter("headers"),i.prototype.getURI=function(){if(!this.scheme||!this.host||!this.port)throw new Error("Missing components necessary to construct URI");var e=this.scheme+"://"+this.host;return("http"===this.scheme&&80!==this.port||"https"===this.scheme&&443!==this.port)&&(e+=":"+this.port),this.path&&(e+=this.path),e},i.prototype.getURL=function(){var e=this.getURI();return this.getQueryParameters()?e+this.getQueryParameterString(this.getQueryParameters()):e},i.prototype.getQueryParameterString=function(){var e=this.getQueryParameters();if(e)return"?"+Object.keys(e).filter(function(t){return void 0!==e[t]}).map(function(t){return t+"="+e[t]}).join("&")},i.prototype.execute=function(e,t){if(!t){var r=this;return new Promise(function(t,i){e(r,function(e,r){e?i(e):t(r)})})}e(this,t)};var s=function(){};s.prototype._setter=function(e){return function(t){return this[e]=t,this}},s.prototype.withHost=s.prototype._setter("host"),s.prototype.withPort=s.prototype._setter("port"),s.prototype.withScheme=s.prototype._setter("scheme"),s.prototype.withPath=s.prototype._setter("path"),s.prototype._assigner=function(e){return function(){for(var t=0;t<arguments.length;t++)this[e]=this._assign(this[e],arguments[t]);return this}},s.prototype.withQueryParameters=s.prototype._assigner("queryParameters"),s.prototype.withBodyParameters=s.prototype._assigner("bodyParameters"),s.prototype.withHeaders=s.prototype._assigner("headers"),s.prototype.withAuth=function(e){return e&&this.withHeaders({Authorization:"Bearer "+e}),this},s.prototype._assign=function(e,t){return t&&Array.isArray(t)?t:t&&Object.keys(t).length>0?Object.assign(e||{},t):e},s.prototype.build=function(){return new i(this)},e.exports.builder=function(){return new s}},function(e,t,r){"use strict";e.exports=function(e){return null!==e&&"object"==typeof e}},function(e,t,r){const i=r(3),s=function(e){for(var t=e+"=",r=document.cookie.split(";"),i=0;i<r.length;i++){for(var s=r[i];" "==s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return null}("token"),n=new i;n.setAccessToken(s),n.getMe().then(function(e){console.log("Some information about the authenticated user",e.body),document.getElementById("user-image").src=e.body.images[0].url,document.getElementById("user-name").innerText=e.body.display_name.trim()},function(e){console.log("Something went wrong!",e)}),window.onSpotifyWebPlaybackSDKReady=(()=>{const e=new Spotify.Player({name:"Web Playback SDK Quick Start Player",getOAuthToken:e=>{e(s)}});e.addListener("initialization_error",({message:e})=>{console.error(e)}),e.addListener("authentication_error",({message:e})=>{console.error(e)}),e.addListener("account_error",({message:e})=>{console.error(e)}),e.addListener("playback_error",({message:e})=>{console.error(e)}),e.addListener("player_state_changed",async e=>{fetch(`http://localhost:3000/api/lyrics?artist=${e.track_window.current_track.artists[0].name}&track=${e.track_window.current_track.name}`).then(e=>e.json().then(t=>({data:t,status:e.status})).then(e=>{e.data.azlyric.success?(document.getElementById("artisttrack").innerText=`${e.data.artist} - ${e.data.track}`,document.getElementById("lyrics").innerHTML=e.data.azlyric.html,document.getElementById("logos-src").src="./logos/azlyric.png",document.getElementById("logos-href").href=e.data.azlyric.href):e.data.lyricwiki.success?(document.getElementById("artisttrack").innerText=`${e.data.artist} - ${e.data.track}`,document.getElementById("lyrics").innerHTML=e.data.lyricwiki.html,document.getElementById("logos-src").src="./logos/lyricwiki.png",document.getElementById("logos-href").href=e.data.lyricwiki.href):e.data.genius.success?(document.getElementById("artisttrack").innerText=`${e.data.artist} - ${e.data.track}`,document.getElementById("lyrics").innerHTML=e.data.genius.html,document.getElementById("logos-src").src="./logos/genius.png",document.getElementById("logos-href").href=e.data.genius.href):(document.getElementById("artisttrack").innerText="",document.getElementById("lyrics").innerHTML=e.data.genius.html,document.getElementById("logos-src").src="",document.getElementById("logos-href").href="")}))}),e.addListener("ready",({device_id:e})=>{console.log("Ready with Device ID",e)}),e.addListener("not_ready",({device_id:e})=>{console.log("Device ID has gone offline",e)}),e.connect()})},function(e,t,r){e.exports=r(4)},function(e,t,r){"use strict";var i=r(5),s=r(6),n=r(7);function o(e){this._credentials=e||{}}o.prototype={setCredentials:function(e){for(var t in e)e.hasOwnProperty(t)&&(this._credentials[t]=e[t])},getCredentials:function(){return this._credentials},resetCredentials:function(){this._credentials=null},setClientId:function(e){this._setCredential("clientId",e)},setClientSecret:function(e){this._setCredential("clientSecret",e)},setAccessToken:function(e){this._setCredential("accessToken",e)},setRefreshToken:function(e){this._setCredential("refreshToken",e)},setRedirectURI:function(e){this._setCredential("redirectUri",e)},getRedirectURI:function(){return this._getCredential("redirectUri")},getClientId:function(){return this._getCredential("clientId")},getClientSecret:function(){return this._getCredential("clientSecret")},getAccessToken:function(){return this._getCredential("accessToken")},getRefreshToken:function(){return this._getCredential("refreshToken")},resetClientId:function(){this._resetCredential("clientId")},resetClientSecret:function(){this._resetCredential("clientSecret")},resetAccessToken:function(){this._resetCredential("accessToken")},resetRefreshToken:function(){this._resetCredential("refreshToken")},resetRedirectURI:function(){this._resetCredential("redirectUri")},_setCredential:function(e,t){this._credentials=this._credentials||{},this._credentials[e]=t},_getCredential:function(e){return this._credentials?this._credentials[e]:void 0},_resetCredential:function(e){this._credentials&&(this._credentials[e]=null)},getTrack:function(e,t,r){var i,o;return"function"!=typeof t||r?(i=r,o=t):(i=t,o={}),s.builder(this.getAccessToken()).withPath("/v1/tracks/"+e).withQueryParameters(o).build().execute(n.get,i)},getTracks:function(e,t,r){var i,o;return"function"!=typeof t||r?(i=r,o=t):(i=t,o={}),s.builder(this.getAccessToken()).withPath("/v1/tracks").withQueryParameters({ids:e.join(",")},o).build().execute(n.get,i)},getAlbum:function(e,t,r){var i,o;return"function"!=typeof t||r?(i=r,o=t):(i=t,o={}),s.builder(this.getAccessToken()).withPath("/v1/albums/"+e).withQueryParameters(o).build().execute(n.get,i)},getAlbums:function(e,t,r){var i,o;return"function"!=typeof t||r?(i=r,o=t):(i=t,o={}),s.builder(this.getAccessToken()).withPath("/v1/albums").withQueryParameters({ids:e.join(",")},o).build().execute(n.get,i)},getArtist:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/artists/"+e).build().execute(n.get,t)},getArtists:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/artists").withQueryParameters({ids:e.join(",")}).build().execute(n.get,t)},search:function(e,t,r,i){return s.builder(this.getAccessToken()).withPath("/v1/search/").withQueryParameters({type:t.join(","),q:e},r).build().execute(n.get,i)},searchAlbums:function(e,t,r){return this.search(e,["album"],t,r)},searchArtists:function(e,t,r){return this.search(e,["artist"],t,r)},searchTracks:function(e,t,r){return this.search(e,["track"],t,r)},searchPlaylists:function(e,t,r){return this.search(e,["playlist"],t,r)},getArtistAlbums:function(e,t,r){return s.builder(this.getAccessToken()).withPath("/v1/artists/"+e+"/albums").withQueryParameters(t).build().execute(n.get,r)},getAlbumTracks:function(e,t,r){return s.builder(this.getAccessToken()).withPath("/v1/albums/"+e+"/tracks").withQueryParameters(t).build().execute(n.get,r)},getArtistTopTracks:function(e,t,r){return s.builder(this.getAccessToken()).withPath("/v1/artists/"+e+"/top-tracks").withQueryParameters({country:t}).build().execute(n.get,r)},getArtistRelatedArtists:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/artists/"+e+"/related-artists").build().execute(n.get,t)},getUser:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/users/"+encodeURIComponent(e)).build().execute(n.get,t)},getMe:function(e){return s.builder(this.getAccessToken()).withPath("/v1/me").build().execute(n.get,e)},getUserPlaylists:function(e,t,r){var i;return"string"==typeof e?i="/v1/users/"+encodeURIComponent(e)+"/playlists":"object"==typeof e?(r=t,t=e,i="/v1/me/playlists"):i="/v1/me/playlists",s.builder(this.getAccessToken()).withPath(i).withQueryParameters(t).build().execute(n.get,r)},getPlaylist:function(e,t,r){return s.builder(this.getAccessToken()).withPath("/v1/playlists/"+e).withQueryParameters(t).build().execute(n.get,r)},getPlaylistTracks:function(e,t,r){return s.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/tracks").withQueryParameters(t).build().execute(n.get,r)},createPlaylist:function(e,t,r,i){var o;o="function"!=typeof r||i?i:r;var a={name:t};return"object"==typeof r&&Object.keys(r).forEach(function(e){a[e]=r[e]}),s.builder(this.getAccessToken()).withPath("/v1/users/"+encodeURIComponent(e)+"/playlists").withHeaders({"Content-Type":"application/json"}).withBodyParameters(a).build().execute(n.post,o)},followPlaylist:function(e,t,r){return s.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/followers").withHeaders({"Content-Type":"application/json"}).withBodyParameters(t).build().execute(n.put,r)},unfollowPlaylist:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/followers").withHeaders({"Content-Type":"application/json"}).build().execute(n.del,t)},changePlaylistDetails:function(e,t,r){return s.builder(this.getAccessToken()).withPath("/v1/playlists/"+e).withHeaders({"Content-Type":"application/json"}).withBodyParameters(t).build().execute(n.put,r)},uploadCustomPlaylistCoverImage:function(e,t,r){return s.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/images").withHeaders({"Content-Type":"image/jpeg"}).withBodyParameters(t).build().execute(n.put,r)},addTracksToPlaylist:function(e,t,r,i){return s.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/tracks").withHeaders({"Content-Type":"application/json"}).withQueryParameters(r).withBodyParameters({uris:t}).build().execute(n.post,i)},removeTracksFromPlaylist:function(e,t,r,i){return s.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/tracks").withHeaders({"Content-Type":"application/json"}).withBodyParameters({tracks:t},r).build().execute(n.del,i)},removeTracksFromPlaylistByPosition:function(e,t,r,i){return s.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/tracks").withHeaders({"Content-Type":"application/json"}).withBodyParameters({positions:t,snapshot_id:r}).build().execute(n.del,i)},replaceTracksInPlaylist:function(e,t,r){return s.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/tracks").withHeaders({"Content-Type":"application/json"}).withBodyParameters({uris:t}).build().execute(n.put,r)},reorderTracksInPlaylist:function(e,t,r,i,o){return s.builder(this.getAccessToken()).withPath("/v1/playlists/"+e+"/tracks").withHeaders({"Content-Type":"application/json"}).withBodyParameters({range_start:t,insert_before:r},i).build().execute(n.put,o)},getAudioFeaturesForTrack:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/audio-features/"+e).build().execute(n.get,t)},getAudioAnalysisForTrack:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/audio-analysis/"+e).build().execute(n.get,t)},getAudioFeaturesForTracks:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/audio-features").withQueryParameters({ids:e.join(",")}).build().execute(n.get,t)},getRecommendations:function(e,t){var r={},i=["seed_artists","seed_genres","seed_tracks"];for(var o in e)e.hasOwnProperty(o)&&(-1!==i.indexOf(o)&&"[object Array]"===Object.prototype.toString.call(e[o])?r[o]=e[o].join(","):r[o]=e[o]);return s.builder(this.getAccessToken()).withPath("/v1/recommendations").withQueryParameters(r).build().execute(n.get,t)},getAvailableGenreSeeds:function(e){return s.builder(this.getAccessToken()).withPath("/v1/recommendations/available-genre-seeds").build().execute(n.get,e)},createAuthorizeURL:function(e,t,r){return i.builder().withPath("/authorize").withQueryParameters({client_id:this.getClientId(),response_type:"code",redirect_uri:this.getRedirectURI(),scope:e.join("%20"),state:t,show_dialog:r&&!!r}).build().getURL()},getMySavedTracks:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/tracks").withQueryParameters(e).build().execute(n.get,t)},containsMySavedTracks:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/tracks/contains").withQueryParameters({ids:e.join(",")}).build().execute(n.get,t)},removeFromMySavedTracks:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/tracks").withHeaders({"Content-Type":"application/json"}).withBodyParameters({ids:e}).build().execute(n.del,t)},addToMySavedTracks:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/tracks").withHeaders({"Content-Type":"application/json"}).withBodyParameters({ids:e}).build().execute(n.put,t)},removeFromMySavedAlbums:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/albums").withHeaders({"Content-Type":"application/json"}).withBodyParameters(e).build().execute(n.del,t)},addToMySavedAlbums:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/albums").withHeaders({"Content-Type":"application/json"}).withBodyParameters(e).build().execute(n.put,t)},getMySavedAlbums:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/albums").withQueryParameters(e).build().execute(n.get,t)},containsMySavedAlbums:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/albums/contains").withQueryParameters({ids:e.join(",")}).build().execute(n.get,t)},getMyTopArtists:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/top/artists").withQueryParameters(e).build().execute(n.get,t)},getMyTopTracks:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/top/tracks").withQueryParameters(e).build().execute(n.get,t)},getMyRecentlyPlayedTracks:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/player/recently-played").withQueryParameters(e).build().execute(n.get,t)},getMyDevices:function(e){return s.builder(this.getAccessToken()).withPath("/v1/me/player/devices").build().execute(n.get,e)},getMyCurrentPlayingTrack:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/player/currently-playing").withQueryParameters(e).build().execute(n.get,t)},getMyCurrentPlaybackState:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/player").withQueryParameters(e).build().execute(n.get,t)},transferMyPlayback:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/player").withHeaders({"Content-Type":"application/json"}).withBodyParameters({device_ids:e.deviceIds,play:!!e.play}).build().execute(n.put,t)},play:function(e,t){var r=e||{},i=r.device_id?{device_id:r.device_id}:null,o={};return["context_uri","uris","offset"].forEach(function(e){e in r&&(o[e]=r[e])}),s.builder(this.getAccessToken()).withPath("/v1/me/player/play").withQueryParameters(i).withHeaders({"Content-Type":"application/json"}).withBodyParameters(o).build().execute(n.put,t)},pause:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/player/pause").withQueryParameters(e&&e.device_id?{device_id:e.device_id}:null).withHeaders({"Content-Type":"application/json"}).build().execute(n.put,t)},skipToPrevious:function(e){return s.builder(this.getAccessToken()).withPath("/v1/me/player/previous").withHeaders({"Content-Type":"application/json"}).build().execute(n.post,e)},skipToNext:function(e){return s.builder(this.getAccessToken()).withPath("/v1/me/player/next").withHeaders({"Content-Type":"application/json"}).build().execute(n.post,e)},seek:function(e,t,r){var i={position_ms:e};return t&&"device_id"in t&&(i.device_id=t.device_id),s.builder(this.getAccessToken()).withPath("/v1/me/player/seek").withQueryParameters(i).build().execute(n.put,r)},setRepeat:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/player/repeat").withQueryParameters({state:e.state||"off"}).build().execute(n.put,t)},setShuffle:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/player/shuffle").withQueryParameters({state:e.state||"false"}).build().execute(n.put,t)},setVolume:function(e,t,r){var i={volume_percent:e};return t&&"device_id"in t&&(i.device_id=t.device_id),s.builder(this.getAccessToken()).withPath("/v1/me/player/volume").withQueryParameters(i).build().execute(n.put,r)},followUsers:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/following").withQueryParameters({ids:e.join(","),type:"user"}).build().execute(n.put,t)},followArtists:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/following").withQueryParameters({ids:e.join(","),type:"artist"}).build().execute(n.put,t)},unfollowUsers:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/following").withQueryParameters({ids:e.join(","),type:"user"}).build().execute(n.del,t)},unfollowArtists:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/following").withQueryParameters({ids:e.join(","),type:"artist"}).build().execute(n.del,t)},isFollowingUsers:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/following/contains").withQueryParameters({ids:e.join(","),type:"user"}).build().execute(n.get,t)},getFollowedArtists:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/following").withHeaders({"Content-Type":"application/json"}).withQueryParameters({type:"artist"},e).build().execute(n.get,t)},areFollowingPlaylist:function(e,t,r,i){return s.builder(this.getAccessToken()).withPath("/v1/users/"+encodeURIComponent(e)+"/playlists/"+t+"/followers/contains").withQueryParameters({ids:r.join(",")}).build().execute(n.get,i)},isFollowingArtists:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/me/following/contains").withQueryParameters({ids:e.join(","),type:"artist"}).build().execute(n.get,t)},getNewReleases:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/browse/new-releases").withHeaders({"Content-Type":"application/json"}).withQueryParameters(e).build().execute(n.get,t)},getFeaturedPlaylists:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/browse/featured-playlists").withHeaders({"Content-Type":"application/json"}).withQueryParameters(e).build().execute(n.get,t)},getCategories:function(e,t){return s.builder(this.getAccessToken()).withPath("/v1/browse/categories").withQueryParameters(e).build().execute(n.get,t)},getCategory:function(e,t,r){return s.builder(this.getAccessToken()).withPath("/v1/browse/categories/"+e).withQueryParameters(t).build().execute(n.get,r)},getPlaylistsForCategory:function(e,t,r){return s.builder(this.getAccessToken()).withPath("/v1/browse/categories/"+e+"/playlists").withQueryParameters(t).build().execute(n.get,r)}},o._addMethods=function(e){for(var t in e)e.hasOwnProperty(t)&&(this.prototype[t]=e[t])},e.exports=o},function(e,t,r){"use strict";var i=r(0);e.exports.builder=function(){return i.builder().withHost("accounts.spotify.com").withPort(443).withScheme("https")}},function(e,t,r){"use strict";var i=r(0);e.exports.builder=function(e){return i.builder().withHost("api.spotify.com").withPort(443).withScheme("https").withAuth(e)}},function(e,t,r){"use strict";var i=r(8),s=r(14),n={},o=function(e){var t={};return e.getQueryParameters()&&(t.query=e.getQueryParameters()),e.getHeaders()&&"application/json"===e.getHeaders()["Content-Type"]?t.data=JSON.stringify(e.getBodyParameters()):e.getBodyParameters()&&(t.data=e.getBodyParameters()),e.getHeaders()&&(t.headers=e.getHeaders()),t};n._makeRequest=function(e,t,r,n){var o=e.bind(i)(r);t.query&&o.query(t.query),!t.data||t.headers&&"application/json"===t.headers["Content-Type"]?t.data&&o.send(t.data):(o.type("form"),o.send(t.data)),t.headers&&o.set(t.headers),o.end(function(e,t){if(e){var r=function(e,t){var r;if("object"==typeof t.error&&"string"==typeof t.error.message)r=new s(t.error.message,t.error.status);else if("string"==typeof t.error)r=new s(t.error+": "+t.error_description);else if("string"==typeof t)try{var i=JSON.parse(t);r=new s(i.error.message,i.error.status)}catch(t){}return r||(r=new s(e+": "+JSON.stringify(t))),r}("Request error",{error:e});return n(r)}return n(null,{body:t.body,headers:t.headers,statusCode:t.statusCode})})},n.get=function(e,t){var r=o(e),s=i.get;n._makeRequest(s,r,e.getURI(),t)},n.post=function(e,t){var r=o(e),s=i.post;n._makeRequest(s,r,e.getURI(),t)},n.del=function(e,t){var r=o(e),s=i.del;n._makeRequest(s,r,e.getURI(),t)},n.put=function(e,t){var r=o(e),s=i.put;n._makeRequest(s,r,e.getURI(),t)},e.exports=n},function(e,t,r){var i;"undefined"!=typeof window?i=window:"undefined"!=typeof self?i=self:(console.warn("Using browser-only version of superagent in non-browser environment"),i=this);var s=r(9),n=r(10),o=r(1),a=r(11),u=r(13);function c(){}var h=t=e.exports=function(e,r){return"function"==typeof r?new t.Request("GET",e).end(r):1==arguments.length?new t.Request("GET",e):new t.Request(e,r)};t.Request=g,h.getXHR=function(){if(!(!i.XMLHttpRequest||i.location&&"file:"==i.location.protocol&&i.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var l="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};function d(e){if(!o(e))return e;var t=[];for(var r in e)p(t,r,e[r]);return t.join("&")}function p(e,t,r){if(null!=r)if(Array.isArray(r))r.forEach(function(r){p(e,t,r)});else if(o(r))for(var i in r)p(e,t+"["+i+"]",r[i]);else e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));else null===r&&e.push(encodeURIComponent(t))}function f(e){for(var t,r,i={},s=e.split("&"),n=0,o=s.length;n<o;++n)-1==(r=(t=s[n]).indexOf("="))?i[decodeURIComponent(t)]="":i[decodeURIComponent(t.slice(0,r))]=decodeURIComponent(t.slice(r+1));return i}function y(e){return/[\/+]json($|[^-\w])/.test(e)}function m(e){this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var t=this.xhr.status;1223===t&&(t=204),this._setStatusProperties(t),this.header=this.headers=function(e){for(var t,r,i,s,n=e.split(/\r?\n/),o={},a=0,u=n.length;a<u;++a)-1!==(t=(r=n[a]).indexOf(":"))&&(i=r.slice(0,t).toLowerCase(),s=l(r.slice(t+1)),o[i]=s);return o}(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&e._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function g(e,t){var r=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e,t=null,i=null;try{i=new m(r)}catch(e){return(t=new Error("Parser is unable to parse the response")).parse=!0,t.original=e,r.xhr?(t.rawResponse=void 0===r.xhr.responseType?r.xhr.responseText:r.xhr.response,t.status=r.xhr.status?r.xhr.status:null,t.statusCode=t.status):(t.rawResponse=null,t.status=null),r.callback(t)}r.emit("response",i);try{r._isResponseOK(i)||(e=new Error(i.statusText||"Unsuccessful HTTP response"))}catch(t){e=t}e?(e.original=t,e.response=i,e.status=i.status,r.callback(e,i)):r.callback(null,i)})}function w(e,t,r){var i=h("DELETE",e);return"function"==typeof t&&(r=t,t=null),t&&i.send(t),r&&i.end(r),i}h.serializeObject=d,h.parseString=f,h.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},h.serialize={"application/x-www-form-urlencoded":d,"application/json":JSON.stringify},h.parse={"application/x-www-form-urlencoded":f,"application/json":JSON.parse},a(m.prototype),m.prototype._parseBody=function(e){var t=h.parse[this.type];return this.req._parser?this.req._parser(this,e):(!t&&y(this.type)&&(t=h.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null)},m.prototype.toError=function(){var e=this.req,t=e.method,r=e.url,i="cannot "+t+" "+r+" ("+this.status+")",s=new Error(i);return s.status=this.status,s.method=t,s.url=r,s},h.Response=m,s(g.prototype),n(g.prototype),g.prototype.type=function(e){return this.set("Content-Type",h.types[e]||e),this},g.prototype.accept=function(e){return this.set("Accept",h.types[e]||e),this},g.prototype.auth=function(e,t,r){1===arguments.length&&(t=""),"object"==typeof t&&null!==t&&(r=t,t=""),r||(r={type:"function"==typeof btoa?"basic":"auto"});return this._auth(e,t,r,function(e){if("function"==typeof btoa)return btoa(e);throw new Error("Cannot use basic auth, btoa is not a function")})},g.prototype.query=function(e){return"string"!=typeof e&&(e=d(e)),e&&this._query.push(e),this},g.prototype.attach=function(e,t,r){if(t){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(e,t,r||t.name)}return this},g.prototype._getFormData=function(){return this._formData||(this._formData=new i.FormData),this._formData},g.prototype.callback=function(e,t){if(this._shouldRetry(e,t))return this._retry();var r=this._callback;this.clearTimeout(),e&&(this._maxRetries&&(e.retries=this._retries-1),this.emit("error",e)),r(e,t)},g.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},g.prototype.buffer=g.prototype.ca=g.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},g.prototype.pipe=g.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},g.prototype._isHost=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&"[object Object]"!==Object.prototype.toString.call(e)},g.prototype.end=function(e){return this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=e||c,this._finalizeQueryString(),this._end()},g.prototype._end=function(){var e=this,t=this.xhr=h.getXHR(),r=this._formData||this._data;this._setTimeouts(),t.onreadystatechange=function(){var r=t.readyState;if(r>=2&&e._responseTimeoutTimer&&clearTimeout(e._responseTimeoutTimer),4==r){var i;try{i=t.status}catch(e){i=0}if(!i){if(e.timedout||e._aborted)return;return e.crossDomainError()}e.emit("end")}};var i=function(t,r){r.total>0&&(r.percent=r.loaded/r.total*100),r.direction=t,e.emit("progress",r)};if(this.hasListeners("progress"))try{t.onprogress=i.bind(null,"download"),t.upload&&(t.upload.onprogress=i.bind(null,"upload"))}catch(e){}try{this.username&&this.password?t.open(this.method,this.url,!0,this.username,this.password):t.open(this.method,this.url,!0)}catch(e){return this.callback(e)}if(this._withCredentials&&(t.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof r&&!this._isHost(r)){var s=this._header["content-type"],n=this._serializer||h.serialize[s?s.split(";")[0]:""];!n&&y(s)&&(n=h.serialize["application/json"]),n&&(r=n(r))}for(var o in this.header)null!=this.header[o]&&this.header.hasOwnProperty(o)&&t.setRequestHeader(o,this.header[o]);return this._responseType&&(t.responseType=this._responseType),this.emit("request",this),t.send(void 0!==r?r:null),this},h.agent=function(){return new u},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(e){u.prototype[e.toLowerCase()]=function(t,r){var i=new h.Request(e,t);return this._setDefaults(i),r&&i.end(r),i}}),u.prototype.del=u.prototype.delete,h.get=function(e,t,r){var i=h("GET",e);return"function"==typeof t&&(r=t,t=null),t&&i.query(t),r&&i.end(r),i},h.head=function(e,t,r){var i=h("HEAD",e);return"function"==typeof t&&(r=t,t=null),t&&i.query(t),r&&i.end(r),i},h.options=function(e,t,r){var i=h("OPTIONS",e);return"function"==typeof t&&(r=t,t=null),t&&i.send(t),r&&i.end(r),i},h.del=w,h.delete=w,h.patch=function(e,t,r){var i=h("PATCH",e);return"function"==typeof t&&(r=t,t=null),t&&i.send(t),r&&i.end(r),i},h.post=function(e,t,r){var i=h("POST",e);return"function"==typeof t&&(r=t,t=null),t&&i.send(t),r&&i.end(r),i},h.put=function(e,t,r){var i=h("PUT",e);return"function"==typeof t&&(r=t,t=null),t&&i.send(t),r&&i.end(r),i}},function(e,t,r){function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}e.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var s=0;s<i.length;s++)if((r=i[s])===t||r.fn===t){i.splice(s,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),r=this._callbacks["$"+e];if(r)for(var i=0,s=(r=r.slice(0)).length;i<s;++i)r[i].apply(this,t);return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,r){"use strict";var i=r(1);function s(e){if(e)return function(e){for(var t in s.prototype)e[t]=s.prototype[t];return e}(e)}e.exports=s,s.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},s.prototype.parse=function(e){return this._parser=e,this},s.prototype.responseType=function(e){return this._responseType=e,this},s.prototype.serialize=function(e){return this._serializer=e,this},s.prototype.timeout=function(e){if(!e||"object"!=typeof e)return this._timeout=e,this._responseTimeout=0,this;for(var t in e)switch(t){case"deadline":this._timeout=e.deadline;break;case"response":this._responseTimeout=e.response;break;default:console.warn("Unknown timeout option",t)}return this},s.prototype.retry=function(e,t){return 0!==arguments.length&&!0!==e||(e=1),e<=0&&(e=0),this._maxRetries=e,this._retries=0,this._retryCallback=t,this};var n=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];s.prototype._shouldRetry=function(e,t){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var r=this._retryCallback(e,t);if(!0===r)return!0;if(!1===r)return!1}catch(e){console.error(e)}if(t&&t.status&&t.status>=500&&501!=t.status)return!0;if(e){if(e.code&&~n.indexOf(e.code))return!0;if(e.timeout&&"ECONNABORTED"==e.code)return!0;if(e.crossDomain)return!0}return!1},s.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},s.prototype.then=function(e,t){if(!this._fullfilledPromise){var r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(e,t){r.end(function(r,i){r?t(r):e(i)})})}return this._fullfilledPromise.then(e,t)},s.prototype.catch=function(e){return this.then(void 0,e)},s.prototype.use=function(e){return e(this),this},s.prototype.ok=function(e){if("function"!=typeof e)throw Error("Callback required");return this._okCallback=e,this},s.prototype._isResponseOK=function(e){return!!e&&(this._okCallback?this._okCallback(e):e.status>=200&&e.status<300)},s.prototype.get=function(e){return this._header[e.toLowerCase()]},s.prototype.getHeader=s.prototype.get,s.prototype.set=function(e,t){if(i(e)){for(var r in e)this.set(r,e[r]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},s.prototype.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},s.prototype.field=function(e,t){if(null==e)throw new Error(".field(name, val) name can not be empty");if(this._data&&console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()"),i(e)){for(var r in e)this.field(r,e[r]);return this}if(Array.isArray(t)){for(var s in t)this.field(e,t[s]);return this}if(null==t)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof t&&(t=""+t),this._getFormData().append(e,t),this},s.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},s.prototype._auth=function(e,t,r,i){switch(r.type){case"basic":this.set("Authorization","Basic "+i(e+":"+t));break;case"auto":this.username=e,this.password=t;break;case"bearer":this.set("Authorization","Bearer "+e)}return this},s.prototype.withCredentials=function(e){return null==e&&(e=!0),this._withCredentials=e,this},s.prototype.redirects=function(e){return this._maxRedirects=e,this},s.prototype.maxResponseSize=function(e){if("number"!=typeof e)throw TypeError("Invalid argument");return this._maxResponseSize=e,this},s.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},s.prototype.send=function(e){var t=i(e),r=this._header["content-type"];if(this._formData&&console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()"),t&&!this._data)Array.isArray(e)?this._data=[]:this._isHost(e)||(this._data={});else if(e&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(t&&i(this._data))for(var s in e)this._data[s]=e[s];else"string"==typeof e?(r||this.type("form"),r=this._header["content-type"],this._data="application/x-www-form-urlencoded"==r?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||this._isHost(e)?this:(r||this.type("json"),this)},s.prototype.sortQuery=function(e){return this._sort=void 0===e||e,this},s.prototype._finalizeQueryString=function(){var e=this._query.join("&");if(e&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+e),this._query.length=0,this._sort){var t=this.url.indexOf("?");if(t>=0){var r=this.url.substring(t+1).split("&");"function"==typeof this._sort?r.sort(this._sort):r.sort(),this.url=this.url.substring(0,t)+"?"+r.join("&")}}},s.prototype._appendQueryString=function(){console.trace("Unsupported")},s.prototype._timeoutError=function(e,t,r){if(!this._aborted){var i=new Error(e+t+"ms exceeded");i.timeout=t,i.code="ECONNABORTED",i.errno=r,this.timedout=!0,this.abort(),this.callback(i)}},s.prototype._setTimeouts=function(){var e=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){e._timeoutError("Timeout of ",e._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){e._timeoutError("Response timeout of ",e._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(e,t,r){"use strict";var i=r(12);function s(e){if(e)return function(e){for(var t in s.prototype)e[t]=s.prototype[t];return e}(e)}e.exports=s,s.prototype.get=function(e){return this.header[e.toLowerCase()]},s.prototype._setHeaderProperties=function(e){var t=e["content-type"]||"";this.type=i.type(t);var r=i.params(t);for(var s in r)this[s]=r[s];this.links={};try{e.link&&(this.links=i.parseLinks(e.link))}catch(e){}},s.prototype._setStatusProperties=function(e){var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.redirect=3==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.created=201==e,this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.forbidden=403==e,this.notFound=404==e,this.unprocessableEntity=422==e}},function(e,t,r){"use strict";t.type=function(e){return e.split(/ *; */).shift()},t.params=function(e){return e.split(/ *; */).reduce(function(e,t){var r=t.split(/ *= */),i=r.shift(),s=r.shift();return i&&s&&(e[i]=s),e},{})},t.parseLinks=function(e){return e.split(/ *, */).reduce(function(e,t){var r=t.split(/ *; */),i=r[0].slice(1,-1);return e[r[1].split(/ *= */)[1].slice(1,-1)]=i,e},{})},t.cleanHeader=function(e,t){return delete e["content-type"],delete e["content-length"],delete e["transfer-encoding"],delete e.host,t&&(delete e.authorization,delete e.cookie),e}},function(e,t){function r(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert"].forEach(function(e){r.prototype[e]=function(){return this._defaults.push({fn:e,arguments:arguments}),this}}),r.prototype._setDefaults=function(e){this._defaults.forEach(function(t){e[t.fn].apply(e,t.arguments)})},e.exports=r},function(e,t,r){"use strict";function i(e,t){this.name="WebapiError",this.message=e||"",this.statusCode=t}i.prototype=Error.prototype,e.exports=i}]);